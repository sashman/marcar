# Migration `20200415223042`

This migration has been generated by sashman at 4/15/2020, 10:30:42 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Owner" (
    "id" SERIAL,
    "matchId" integer  NOT NULL ,
    "userId" integer  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE UNIQUE INDEX "Owner_matchId" ON "public"."Owner"("matchId")

ALTER TABLE "public"."Owner" ADD FOREIGN KEY ("matchId")REFERENCES "public"."Match"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Owner" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200415221807..20200415223042
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator prisma_client {
   provider = "prisma-client-js"
@@ -11,8 +11,9 @@
   id           Int           @default(autoincrement()) @id
   name         String
   email        String        @unique
   participants Participant[]
+  owner        Owner[]
 }
 model Participant {
   id      Int   @default(autoincrement()) @id
@@ -21,10 +22,19 @@
   user    User  @relation(fields: [userId], references: [id])
   userId  Int
 }
+model Owner {
+  id      Int   @default(autoincrement()) @id
+  match   Match @relation(fields: [matchId], references: [id])
+  matchId Int
+  user    User  @relation(fields: [userId], references: [id])
+  userId  Int
+}
+
 model Match {
   id           Int           @default(autoincrement()) @id
   createdAt    DateTime      @default(now())
   updatedAt    DateTime      @default(now())
   participants Participant[]
+  owner        Owner
 }
```


